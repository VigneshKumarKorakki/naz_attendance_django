<form class="form hidden" data-form="register" >
  <!-- Full Name -->
  <label>
    <span>Your Full Name</span>
    <input
      type="text"
      name="full_name"
      required
      pattern="[A-Za-z ]{2,50}"
      placeholder="Jack Martin"
    />
    <p class="error" hidden>
      Full name should contain only letters and spaces (2–50 characters).
    </p>
  </label>

  <!-- Emirates ID -->
  <label>
    <span>Emirates ID</span>
    <input
      type="text"
      name="emirates_id"
      required
      pattern="[A-Za-z0-9]{5,20}"
      placeholder="784199123456789"
    />
    <p class="error" hidden>
      Emirates ID must be 5–20 alphanumeric characters.
    </p>
  </label>

  <!-- Date of Birth -->
  <label>
    <span>Date of Birth</span>
    <input
      type="date"
      name="date_of_birth"
      required
    />
    <p class="error" hidden>
      Please select your date of birth.
    </p>
  </label>

  <!-- WhatsApp Number -->
  <label>
    <span>Your WhatsApp Number</span>
    <input
      type="tel"
      name="whatsapp_number"
      required
      pattern="[0-9]{7,15}"
      placeholder="971501234567"
    />
    <p class="error" hidden>
      Enter a valid WhatsApp number (7–15 digits).
    </p>
  </label>

  <!-- Company Name -->
  <label>
    <span>Your Company Name</span>
    <input
      type="text"
      name="company_name"
      required
      minlength="2"
    />
    <p class="error" hidden>
      Company name must be at least 2 characters.
    </p>
  </label>

  <!-- Company Phone -->
  <label>
    <span>Your Company Phone Number</span>
    <input
      type="tel"
      name="company_phone"
      required
      pattern="[0-9]{7,15}"
      placeholder="987654321"
    />
    <p class="error" hidden>
      Enter a valid company phone number (7–15 digits).
    </p>
  </label>

  <button class="cta" type="submit">
    Generate User Name &amp; Password
  </button>
</form>

<script>
const form = document.querySelector('form[data-form="register"]');

form.querySelectorAll('input').forEach(input => {
  input.addEventListener('input', () => {
    const error = input.nextElementSibling;

    if (input.checkValidity()) {
      error.hidden = true;
    } else {
      error.hidden = false;
    }
  });
});

form.addEventListener('submit', e => {
  let isValid = true;

  form.querySelectorAll('input').forEach(input => {
    const error = input.nextElementSibling;

    if (!input.checkValidity()) {
      error.hidden = false;
      isValid = false;
    } else {
      error.hidden = true;
    }
  });

  if (!isValid) e.preventDefault();
});
</script>
